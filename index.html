<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Log</title>
    <script src="bower_components/jquery/jquery.min.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>
    <script src="config/config.js"></script>
    <script src="js/app.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" media="screen">
</head>

<body>
    <script id="header-template" type="text/x-handlebars-template">
        <span>This log was generated at {{generatedAt}}</span>
    </script>
    
    <script id="log-template" type="text/x-handlebars-template">
        <ul>
        {{#each entities}}
            <li><a href="#{{../type}}_{{@key}}">{{@key}}</a></li>
        {{/each}}
        </ul>

        {{#each entities}}
        <h3 id="{{../type}}_{{@key}}">{{@key}}</h3>
        <table class="table table-bordered table-striped">
            <tr><th>Entity ID</th><th>Log</th></tr>
            {{#each this}}
                <tr>
                <td><a href="{{../janusUrlPrefix}}{{eid}}" target="_blank">{{name}}</a><br><small>{{entityid}}</small></td>
                <td><ul>
                {{#each messages}}
                    <li>{{logMessage message level}} <small class="text-muted">[{{module}}]</small></li>
                {{/each}}
                </ul></td>
                </tr>
            {{/each}}
        </table>
        {{/each}}
    </script>

    <h1>Log</h1>
    <div id="header"></div>
    
    <h2>IdPs</h2>
    <div id="idpLog"></div>
    
    <h2>SPs</h2>
    <div id="spLog"></div>
</body>
</html>
