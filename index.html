<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Log</title>
    <script src="bower_components/jquery/jquery.min.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>
    <script src="config/config.js"></script>
    <script src="js/app.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" media="screen">
</head>

<body>
    <script id="header-template" type="text/x-handlebars-template">
        <p><span>This log was generated at {{generatedAt}}</span></p>
        <ul>
            <li><a href="#idpHeader">IdPs</a></li>
            <li><a href="#spHeader">SPs</a></li>
        </ul>
    </script>
    
    <script id="log-template" type="text/x-handlebars-template">
        <table class="table table-bordered table-striped">
            <tr><th>Entity</th><th>Log</th></tr>
            {{#each entities}}
                <tr>
                <td>
                    <a href="{{../janusUrlPrefix}}{{eid}}" target="_blank">{{name}}</a>
                    <br>
                    <small>{{@key}}</small>
                    <br>
                    <small><strong>{{state}}</strong></small>
                    {{#each contacts}}
                        <br>
                           {{email}}
                    {{/each}}
                </td>
                <td><ul>
                {{#each messages}}
                    <li>{{logMessage message level}} <small class="text-muted">[{{module}}]</small></li>
                {{/each}}
                </ul></td>
                </tr>
            {{/each}}
        </table>
    </script>

    <h1>Log</h1>
    <div id="header"></div>
    
    <h3 id="idpHeader">IdPs</h3>
    <div id="idpLog"></div>
    
    <h3 id="spHeader">SPs</h3>
    <div id="spLog"></div>
    
</body>
</html>
